<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carl The Chess Bot: include/magicmoves.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Carl The Chess Bot
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">magicmoves.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Header file for magic move bitboard generation.  
<a href="#details">More...</a></p>

<p><a href="magicmoves_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a93e55434aedb0b88857b434926084db0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magicmoves_8h.html#a93e55434aedb0b88857b434926084db0">MINIMIZE_MAGIC</a></td></tr>
<tr class="separator:a93e55434aedb0b88857b434926084db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ecececa39cb540cd3f5909d6ddf7852"><td class="memItemLeft" align="right" valign="top"><a id="a3ecececa39cb540cd3f5909d6ddf7852"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USE_INLINING</b>&#160;&#160;&#160;/*the MMINLINE keyword is assumed to be available*/</td></tr>
<tr class="separator:a3ecececa39cb540cd3f5909d6ddf7852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22fd34bbbe210f802808204475e7a493"><td class="memItemLeft" align="right" valign="top"><a id="a22fd34bbbe210f802808204475e7a493"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>__64_BIT_INTEGER_DEFINED__</b></td></tr>
<tr class="separator:a22fd34bbbe210f802808204475e7a493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dcee18e6ec0d3e9986fd53d50fb6ad8"><td class="memItemLeft" align="right" valign="top"><a id="a6dcee18e6ec0d3e9986fd53d50fb6ad8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MMINLINE</b>&#160;&#160;&#160;inline</td></tr>
<tr class="separator:a6dcee18e6ec0d3e9986fd53d50fb6ad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a652ec828d9ef9e2fce07d75090e9c00d"><td class="memItemLeft" align="right" valign="top"><a id="a652ec828d9ef9e2fce07d75090e9c00d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>C64</b>(constantU64)&#160;&#160;&#160;constantU64##ULL</td></tr>
<tr class="separator:a652ec828d9ef9e2fce07d75090e9c00d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7f9d7f7eb55a7f3d15c2d185450c2d1"><td class="memItemLeft" align="right" valign="top"><a id="ae7f9d7f7eb55a7f3d15c2d185450c2d1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MINIMAL_B_BITS_SHIFT</b>(square)&#160;&#160;&#160;55</td></tr>
<tr class="separator:ae7f9d7f7eb55a7f3d15c2d185450c2d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a821549eb534b67529285f199b8c510ca"><td class="memItemLeft" align="right" valign="top"><a id="a821549eb534b67529285f199b8c510ca"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MINIMAL_R_BITS_SHIFT</b>(square)&#160;&#160;&#160;52</td></tr>
<tr class="separator:a821549eb534b67529285f199b8c510ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a24c386d3758eba951eb7532fdbb45804"><td class="memItemLeft" align="right" valign="top"><a id="a24c386d3758eba951eb7532fdbb45804"></a>
typedef unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><b>U64</b></td></tr>
<tr class="separator:a24c386d3758eba951eb7532fdbb45804"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad634272c1e3d7080287f010a008c5145"><td class="memItemLeft" align="right" valign="top"><a id="ad634272c1e3d7080287f010a008c5145"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>initmagicmoves</b> (void)</td></tr>
<tr class="separator:ad634272c1e3d7080287f010a008c5145"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5ceb50892535efab9e021ebdf5f1414e"><td class="memItemLeft" align="right" valign="top"><a id="a5ceb50892535efab9e021ebdf5f1414e"></a>
const U64&#160;</td><td class="memItemRight" valign="bottom"><b>magicmoves_r_magics</b> [64]</td></tr>
<tr class="separator:a5ceb50892535efab9e021ebdf5f1414e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a351ebd1ef8f6844109df3d007a15b169"><td class="memItemLeft" align="right" valign="top"><a id="a351ebd1ef8f6844109df3d007a15b169"></a>
const U64&#160;</td><td class="memItemRight" valign="bottom"><b>magicmoves_r_mask</b> [64]</td></tr>
<tr class="separator:a351ebd1ef8f6844109df3d007a15b169"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab5cb0aba050d4ed8578b5a9f8c496b1"><td class="memItemLeft" align="right" valign="top"><a id="aab5cb0aba050d4ed8578b5a9f8c496b1"></a>
const U64&#160;</td><td class="memItemRight" valign="bottom"><b>magicmoves_b_magics</b> [64]</td></tr>
<tr class="separator:aab5cb0aba050d4ed8578b5a9f8c496b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ed377567452f4cd9acd149c0de54496"><td class="memItemLeft" align="right" valign="top"><a id="a6ed377567452f4cd9acd149c0de54496"></a>
const U64&#160;</td><td class="memItemRight" valign="bottom"><b>magicmoves_b_mask</b> [64]</td></tr>
<tr class="separator:a6ed377567452f4cd9acd149c0de54496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26b7f4c6917eacac6b1718f2b3958f64"><td class="memItemLeft" align="right" valign="top"><a id="a26b7f4c6917eacac6b1718f2b3958f64"></a>
const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>magicmoves_b_shift</b> [64]</td></tr>
<tr class="separator:a26b7f4c6917eacac6b1718f2b3958f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acda3c14f656ae22deb4faa680d665d6a"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magicmoves_8h.html#acda3c14f656ae22deb4faa680d665d6a">magicmoves_r_shift</a> [64]</td></tr>
<tr class="separator:acda3c14f656ae22deb4faa680d665d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a283d568f28734d43774baf797d9c2832"><td class="memItemLeft" align="right" valign="top"><a id="a283d568f28734d43774baf797d9c2832"></a>
const U64 *&#160;</td><td class="memItemRight" valign="bottom"><b>magicmoves_b_indices</b> [64]</td></tr>
<tr class="separator:a283d568f28734d43774baf797d9c2832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb063200b70e3b5b353a114d9a785b84"><td class="memItemLeft" align="right" valign="top"><a id="abb063200b70e3b5b353a114d9a785b84"></a>
const U64 *&#160;</td><td class="memItemRight" valign="bottom"><b>magicmoves_r_indices</b> [64]</td></tr>
<tr class="separator:abb063200b70e3b5b353a114d9a785b84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for magic move bitboard generation. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a93e55434aedb0b88857b434926084db0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93e55434aedb0b88857b434926084db0">&#9670;&nbsp;</a></span>MINIMIZE_MAGIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MINIMIZE_MAGIC</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="magicmoves_8h.html" title="Header file for magic move bitboard generation.">magicmoves.h</a></p>
<p>Header file for magic move bitboard generation. Include this in any files need this functionality.</p>
<p>Usage: You must first initialize the generator with a call to initmagicmoves(). Then you can use the following macros for generating move bitboards by giving them a square and an occupancy. The macro will then "return" the correct move bitboard for that particular square and occupancy. It has been named Rmagic and Bmagic so that it will not conflict with any functions/macros in your chess program called Rmoves/Bmoves. You can macro Bmagic/Rmagic to Bmoves/Rmoves if you wish. If you want to minimize the size of the bitboards, make MINIMIZE_MAGIC uncommented in this header (more info on this later). Where you typedef your unsigned 64-bit integer declare <b>64_BIT_INTEGER_DEFINED</b>. If USE_INLINING is uncommented, the macros will be expressed as MMINLINEd functions. If PERFECT_MAGIC_HASH is uncomment, the move generator will use an additional indrection to make the table sizes smaller : (~50kb+((original size)/sizeof(PERFECT_MAGIC_HASH)). The size listed from here on out are the sizes without PERFECT_MAGIC_HASH.</p>
<p>Bmagic(square, occupancy) Rmagic(square, occupancy)</p>
<p>Square is an integer that is greater than or equal to zero and less than 64. Occupancy is any unsigned 64-bit integer that describes which squares on the board are occupied.</p>
<p>The following macros are identical to Rmagic and Bmagic except that the occupancy is assumed to already have been "masked". Look at the following source or read up on the internet about magic bitboard move generation to understand the usage of these macros and what it means by "an occupancy that
has already been masked". Using the following macros when possible might be a tiny bit faster than using Rmagic and Bmagic because it avoids an array access and a 64-bit &amp; operation.</p>
<p>BmagicNOMASK(square, occupancy) RmagicNOMASK(square, occupancy)</p>
<p>Unsigned 64 bit integers are referenced by this generator as U64. Edit the beginning lines of this header for the defenition of a 64 bit integer if necessary.</p>
<p>If MINIMIZE_MAGIC is defined before including this file: The move bitboard generator will use up 841kb of memory. 41kb of memory is used for the bishop database and 800kb is used for the rook database. If you feel the 800kb rook database is too big, then comment it out and use a more traditional move bitboard generator in conjunction with the magic move bitboard generator for bishops.</p>
<p>If MINIMIAZE_MAGIC is not defined before including this file: The move bitboard generator will use up 2304kb of memory but might perform a bit faster.</p>
<p>Copyright (C) 2007 Pradyumna Kannan.</p>
<p>This code is provided 'as-is', without any expressed or implied warranty. In no event will the authors be held liable for any damages arising from the use of this code. Permission is granted to anyone to use this code for any purpose, including commercial applications, and to alter it and redistribute it freely, subject to the following restrictions:</p>
<ol type="1">
<li>The origin of this code must not be misrepresented; you must not claim that you wrote the original code. If you use this code in a product, an acknowledgment in the product documentation would be appreciated but is not required.</li>
<li>Altered source versions must be plainly marked as such, and must not be misrepresented as being the original code.</li>
<li>This notice may not be removed or altered from any source distribution. </li>
</ol>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="acda3c14f656ae22deb4faa680d665d6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acda3c14f656ae22deb4faa680d665d6a">&#9670;&nbsp;</a></span>magicmoves_r_shift</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int magicmoves_r_shift[64]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="magicmoves_8h.html" title="Header file for magic move bitboard generation.">magicmoves.h</a></p>
<p>Source file for magic move bitboard generation.</p>
<p>See header file for instructions on usage.</p>
<p>The magic keys are not optimal for all squares but they are very close to optimal.</p>
<p>Copyright (C) 2007 Pradyumna Kannan.</p>
<p>This code is provided 'as-is', without any express or implied warranty. In no event will the authors be held liable for any damages arising from the use of this code. Permission is granted to anyone to use this code for any purpose, including commercial applications, and to alter it and redistribute it freely, subject to the following restrictions:</p>
<ol type="1">
<li>The origin of this code must not be misrepresented; you must not claim that you wrote the original code. If you use this code in a product, an acknowledgment in the product documentation would be appreciated but is not required.</li>
<li>Altered source versions must be plainly marked as such, and must not be misrepresented as being the original code.</li>
<li>This notice may not be removed or altered from any source distribution. </li>
</ol>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
